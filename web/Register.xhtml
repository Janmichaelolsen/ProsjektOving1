<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets">

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link href="resources/css/default.css" rel="stylesheet" type="text/css" />
    <link href="resources/css/cssLayout.css" rel="stylesheet" type="text/css" />

    <ui:composition template="./resources/RegTemp.xhtml">
        
        <ui:define name="top">
            <div align="center">
                <h1>#{tekster.Regtittel}</h1>
            </div>
        </ui:define>

        <ui:define name="left">
            <div align="center">
                <h:form>
                    <table>
                        <tr>
                            <td>#{tekster.oktnummer} </td>
                            <td><h:outputText value="#{behandler.sisteOktnr}"></h:outputText></td>
                        </tr>
                        <tr>
                            <td>#{tekster.dato}</td>
                            <td><h:inputText value="#{behandler.tempOkt.dato}"></h:inputText></td>
                        </tr>
                        <tr>
                            <td>#{tekster.varighet}</td>
                            <td><h:inputText value="#{behandler.tempOkt.varighet}"></h:inputText></td>
                        </tr>
                        <tr>
                            <td>#{tekster.kategori}</td>
                            <td>
                                <h:selectOneMenu value="#{behandler.tempOkt.kategori}">
                                    <f:selectItem itemLabel="#{tekster.sykling}" itemValue="#{tekster.sykling}"></f:selectItem>
                                    <f:selectItem itemLabel="#{tekster.svømming}" itemValue="#{tekster.svømming}"></f:selectItem>
                                    <f:selectItem itemLabel="#{tekster.løping}" itemValue="#{tekster.løping}"></f:selectItem>
                                    <f:selectItem itemLabel="#{tekster.styrke}" itemValue="#{tekster.styrke}"></f:selectItem>
                                    <f:selectItem itemLabel="#{tekster.yoga}" itemValue="#{tekster.yoga}"></f:selectItem>
                                    <f:selectItems value="#{behandler.tillegsOkter}" var="tillegg" 
                                                   itemLabel="#{tillegg}" itemValue="#{tillegg}"></f:selectItems>
                                </h:selectOneMenu>
                                <h:commandButton value="#{tekster.leggtil}" action="#{behandler.setnykat()}"/>
                            </td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>
                                <h:inputText value="#{behandler.tempKat}" size="6" rendered="#{behandler.nykat}"></h:inputText>
                                <h:commandButton value="#{tekster.lagre}" action="#{behandler.leggTilKategori()}" rendered="#{behandler.nykat}"/>
                            </td>
                        </tr>
                        <tr>
                            <td>#{tekster.tekst}</td>
                            <td><h:inputText value="#{behandler.tempOkt.tekst}"></h:inputText></td>
                        </tr>
                    </table>
                    <h:commandButton value="Send" action="#{behandler.regOkt()}"/>
                </h:form>
            </div>
        </ui:define>
        <ui:define name="content">
            <div align="center">
                <h:form>
                <h:dataTable value="#{behandler.synkListe}" var="okter" border="1" bgcolor="white">
                    <h:column>
                    <f:facet name="header">#{tekster.oktnummer}</f:facet>   
                    <h:outputText value ="#{okter.okten.oktnummer}"></h:outputText>
                    </h:column>
                    <h:column>
                    <f:facet name="header">#{tekster.dato}</f:facet>
                    <h:outputText value ="#{okter.okten.dato}" rendered="#{not okter.editable}"></h:outputText>
                    <h:inputText value="#{okter.okten.dato}" size="6" rendered="#{okter.editable}"></h:inputText>
                    
                    </h:column>
                    <h:column>
                    <f:facet name="header">#{tekster.varighet}</f:facet>
                        <h:outputText value ="#{okter.okten.varighet}" rendered="#{not okter.editable}"></h:outputText>
                        <h:inputText value="#{okter.okten.varighet}" rendered="#{okter.editable}" size="10"></h:inputText>
                    </h:column>
                    <h:column>
                    <f:facet name="header">#{tekster.kategori}</f:facet>
                        <h:outputText value ="#{okter.okten.kategori}" rendered="#{not okter.editable}"></h:outputText>
                        <h:inputText value="#{okter.okten.kategori}" rendered="#{okter.editable}" size="7"></h:inputText>
                    </h:column>
                    <h:column>
                    <f:facet name="header">#{tekster.tekst}</f:facet>
                        <h:outputText value ="#{okter.okten.tekst}" rendered="#{not okter.editable}"></h:outputText>
                        <h:inputText value="#{okter.okten.tekst}" rendered="#{okter.editable}" size="10"></h:inputText>
                    </h:column>
                    <h:column>
                        <f:facet name="header">#{tekster.endre}</f:facet>
                        <h:selectBooleanCheckbox value ="#{okter.editable}" onclick="submit()"></h:selectBooleanCheckbox>
                    </h:column>
                    <h:column>
                        <f:facet name="header">#{tekster.slett}</f:facet>
                        <h:selectBooleanCheckbox value ="#{okter.skalslettes}" onclick="submit()"></h:selectBooleanCheckbox>
                    </h:column>
                </h:dataTable>
                    <h:commandButton value ="#{tekster.oppdater}" action="#{behandler.oppdater()}"></h:commandButton>
                </h:form>
            </div>
        </ui:define>
    </ui:composition>
</html>

